version: "3.9"

services:
  zookeeper.${BASE_URL}:
    container_name: zookeeper.${BASE_URL}
    image: zookeeper:${ZOOKEEPER_VERSION}
    ulimits:
      nofile:
        soft: 65536
        hard: 65536
    environment:
      ZOO_MY_ID: 1
      ZOO_4LW_COMMANDS_WHITELIST: ruok
    healthcheck:
      test: echo ruok | nc 127.0.0.1 2181 || exit -1
      interval: 5s
      timeout: 5s
      retries: 5
    networks:
      - ${DOCKER_NETWORKS}

networks:
  ${DOCKER_NETWORKS}:
    external: true
